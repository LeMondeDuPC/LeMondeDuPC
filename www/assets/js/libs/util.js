!function(t){t.fn.panel=function(e){let o,n=t(this),i=t("body"),s=t(window),a=n.attr("id");return"jQuery"!==(o=t.extend({hideOnClick:!1,hideOnEscape:!1,hideOnSwipe:!1,resetScroll:!1,resetForms:!1,swipe:null,target:n,visibleClass:null},e)).target&&(o.target=t(o.target)),n._hide=function(t){o.target.hasClass(o.visibleClass)&&(t&&(t.preventDefault(),t.stopPropagation()),o.target.removeClass(o.visibleClass))},o.hideOnClick&&n.on("click","a",function(e){const i=t(this);let s=i.attr("href");const l=i.attr("target");s&&"#"!==s&&""!==s&&s!=="#"+a&&(e.preventDefault(),e.stopPropagation(),n._hide(),window.setTimeout(function(){"_blank"===l?window.open(s):window.location.href=s},o.delay+10))}),n.on("touchstart",function(t){n.touchPosX=t.originalEvent.touches[0].pageX,n.touchPosY=t.originalEvent.touches[0].pageY}),n.on("touchmove",function(t){if(null===n.touchPosX||null===n.touchPosY)return;const e=n.touchPosX-t.originalEvent.touches[0].pageX,i=n.touchPosY-t.originalEvent.touches[0].pageY,s=n.outerHeight(),a=n.get(0).scrollHeight-n.scrollTop;if(o.hideOnSwipe){let t=!1;const s=20,a=50;switch(o.swipe){case"left":t=i<s&&i>-1*s&&e>a;break;case"right":t=i<s&&i>-1*s&&e<-1*a;break;case"top":t=e<s&&e>-1*s&&i>a;break;case"bottom":t=e<s&&e>-1*s&&i<-1*a}if(t)return n.touchPosX=null,n.touchPosY=null,n._hide(),!1}(n.scrollTop<0&&i<0||a>s-2&&a<s+2&&i>0)&&(t.preventDefault(),t.stopPropagation())}),n.on("click touchend touchstart touchmove",function(t){t.stopPropagation()}),n.on("click",'a[href="#'+a+'"]',function(t){t.preventDefault(),t.stopPropagation(),o.target.removeClass(o.visibleClass)}),i.on("click touchend",function(t){n._hide(t)}),i.on("click",'a[href="#'+a+'"]',function(t){t.preventDefault(),t.stopPropagation(),o.target.toggleClass(o.visibleClass)}),o.hideOnEscape&&s.on("keydown",function(t){27===t.keyCode&&n._hide(t)}),n}}(jQuery);