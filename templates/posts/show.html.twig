{% extends 'base.html.twig' %}

{% block title %}Posts{% endblock %}

{% block body %}
    {% if post != false %}
        <article class="post">
            <header>
                <div class="title">
                    <h2>
                        {{ post.title }}
                    </h2>
                </div>
                <div class="meta">
                    <time class="published">{{ post.timePublication|date('Y-m-d H:i:s') }}</time>
                    {% if post.user is not null %}
                        <span class="author name">
                            <a href="{{ path('users_show', {'id' : post.user.id}) }}">{{ post.user.username }}</a>
                        </span>
                    {% else %}
                        <span class="author name">Anonyme</span>
                    {% endif %}
                    {% if location.name is not null %}
                        <span><a href="{{ path('locations_show', {'id': location.id, 'name': location.name|slugify }) }}">{{ location.name }}</a></span>
                    {% else %}
                        <span>{{ location.name ? location.name : 'Non répertorié' }}</span>
                    {% endif %}
                    <ul class="icons">
                        <li>
                            <a href="https://twitter.com/share?url={{ app.request.uri }}&text={{ post.title|slugify }}"
                               target="_blank" class="icon fa-twitter">
                                <span class="label">Twitter</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.facebook.com/sharer.php?u={{ app.request.uri }}&t={{ post.title|slugify }}"
                               target="_blank" class="icon fa-facebook">
                                <span class="label">Facebook</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://plus.google.com/share?url={{ app.request.uri }}&hl=fr"
                               target="_blank" class="icon fa-google-plus">
                                <span class="label">Google +</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ app.request.uri }}&title={{ post.title|slugify }}"
                               target="_blank" class="icon fa-linkedin">
                                <span class="label">LinkedIn</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </header>
            <section>
                <img src="" alt="" class="image featured"/>
                {{ post.content|raw }}
            </section>
        </article>
    {% else %}
        <article class="post">
            <header>
                <div class="title">
                    <h2>
                        Article non disponible
                    </h2>
                </div>
            </header>
            <section>
                <p>Suite à certaines raisons, cet article n'est pas disponible</p>
            </section>
        </article>
    {% endif %}
{% endblock %}
