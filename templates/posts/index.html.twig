{% extends 'base.html.twig' %}

{% block title %}Du numérique expliqué simplement{% endblock %}

{% block body %}
    {% for post in posts %}
        <article class="post">
            <header>
                <div class="title">
                    <h2>
                        <a href="{{ path('posts_show', {'id': post.post_id, 'slug' : post.post_title|slugify}) }}">{{ post.post_title }}</a>
                    </h2>
                </div>
                <div class="meta">
                    <time class="published">{{ post.post_time_publication|date('Y-m-d H:i:s') }}</time>
                    <span class="author name">{{ post.user_name }}</span>
                    {% if post.location_name is not null %}
                        <span><a href="{{ path('locations_show', {'name': post.location_name|slugify }) }}">{{ post.location_name }}</a></span>
                    {% endif %}
                </div>
            </header>
            <a href="{{ path('posts_show', {'id': post.post_id, 'slug' : post.post_title|slugify}) }}"
               class="image featured">
                <img src="" alt="Image de l'article"/>
            </a>
            <p>{{ post.post_description }}</p>
            <footer>
                <ul class="actions">
                    <li><a class="button"
                           href="{{ path('posts_show', {'id': post.post_id, 'slug' : post.post_title|slugify}) }}">Lire</a>
                    </li>
                </ul>
                <ul class="stats">
                    <li><a href="{{ path('posts_new') }}">Ajouter un article</a></li>
                    <li><a href="{{ path('posts_edit', {'id': post.post_id}) }}">Modifier</a></li>
                </ul>
            </footer>
        </article>
    {% else %}
        <article class="post">
            <header>
                <div class="title">
                    <h2>Oups</h2>
                </div>
            </header>
            <p>Aucun article n'est disponible pour le moment</p>
        </article>
    {% endfor %}

{% endblock %}

