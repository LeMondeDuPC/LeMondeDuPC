{% extends 'base.html.twig' %}

{% block title %}Résultat de recherche : {{ search }}{% endblock %}

{% block body %}
    <article class="post">
        <header>
            <div class="title">
                <h1 class="heading">Résultat pour votre recherche : {{ search }}</h1>
            </div>
        </header>
        <section>
            {% for post in posts %}
                <article class="mini-post">
                    <section class="content">
                        <h2 class="title-max">
                            <a href="{{ path('posts_show', {'id' : post.id, 'slug' : post.title|slugify }) }}">{{ post.title }}</a>
                        </h2>
                        <p>{{ post.description }}</p>
                        {% if post.location.name is not null %}
                            <span class="location icon fa-tag"><a
                                        href="{{ path('locations_show', {'id': post.location.id, 'name': post.location.name|slugify }) }}">{{ post.location.name }}</a></span>
                        {% else %}
                            <span class="location icon fa-tag">{{ post.location.name ? post.location.name : 'Non répertorié' }}</span>
                        {% endif %}
                    </section>
                    <section>
                        <a href="{{ path('posts_show', {'id' : post.id, 'slug' : post.title|slugify }) }}"
                           class="image">
                            <img src="http://www.e-works.fr/blog/wp-content/uploads/2017/11/amazon-1024x458.png" alt="">
                        </a>
                    </section>
                </article>
            {% else %}
                <p>Aucun article n'est disponible pour le moment</p>
            {% endfor %}
        </section>
    </article>
{% endblock %}
{% block paginate %}
    {{ knp_pagination_render(posts) }}
{% endblock %}

